(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[768],{26:function(e,n,t){"use strict";t.d(n,{Hg:function(){return c},TP:function(){return s},tx:function(){return i},z1:function(){return r},zv:function(){return a}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://api.themoviedb.org/3/search/movie?api_key=49133404fcc28c8d69cb3cca2c865e85&query=".concat(e,"&page=").concat(n)).then((function(e){return e.json()})).then((function(e){return e.results}))},c=function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?api_key=49133404fcc28c8d69cb3cca2c865e85").then((function(e){return e.json()})).then((function(e){return e.results}))},s=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=49133404fcc28c8d69cb3cca2c865e85")).then((function(e){return e.json()}))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=49133404fcc28c8d69cb3cca2c865e85")).then((function(e){return e.json()}))},i=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=49133404fcc28c8d69cb3cca2c865e85")).then((function(e){return e.json()})).then((function(e){return e.results}))}},866:function(e,n,t){"use strict";t(791);var r=t(373),c=t(184);n.Z=function(){return(0,c.jsx)("div",{children:(0,c.jsx)(r.FF,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}},768:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(861),c=t(885),s=t(757),a=t.n(s),i=t(791),o=t(504),u=t(871),l=t(26),h=t(184),p=function(e){var n=e.onBack;return(0,h.jsx)("button",{type:"button",className:"button",onClick:n,children:"Go back"})},v=t(7),d=function(e){var n=e.movie,t=n.title,r=n.release_date,c=n.vote_average,s=n.poster_path,a=n.overview,i=n.genres,o=s?"https://image.tmdb.org/t/p/w500".concat(s):null;return(0,h.jsxs)("article",{className:"Movie",children:[(0,h.jsx)("div",{className:"",children:(0,h.jsx)("img",{src:o,alt:t,title:t,className:"image"})}),(0,h.jsxs)("div",{className:"movie",children:[t&&(0,h.jsxs)("h1",{className:"",children:[t," ",r?(0,h.jsxs)("span",{children:["(",r.substring(0,4),")"]}):(0,h.jsx)("span",{children:"(N/A)"})]}),(0,h.jsxs)("p",{className:"",children:[(0,h.jsx)("b",{className:"Score",children:"User score: "}),c?(0,h.jsxs)("span",{children:[10*c,"%"]}):(0,h.jsx)("span",{children:"N/A"})]}),(0,h.jsx)("h2",{className:"TitleOverview",children:"Overview"}),(0,h.jsx)("p",{className:"Overview",children:a?(0,h.jsx)("span",{children:a}):(0,h.jsx)("span",{children:"N/A"})}),(0,h.jsx)("h3",{className:"",children:"Genres"}),i?(0,h.jsx)("ul",{className:"Genres list",children:i.map((function(e){var n=e.id,t=e.name;return(0,h.jsx)("li",{className:"genre",children:(0,h.jsx)("span",{children:t})},n)}))}):(0,h.jsx)("span",{children:"N/A"})]})]})};d.defaultProps={movie:t.n(v)().shape({release_date:"",vote_average:0,poster_path:null,overview:"",genres:[]})};var f=d,m="Actor_ImageActor__YwggN",x=function(e){var n=e.photo,t=e.name,r=e.character,c=n?"https://image.tmdb.org/t/p/w300".concat(n):"";return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:c,className:m,alt:t})}),(0,h.jsx)("p",{children:t}),(0,h.jsxs)("p",{children:[(0,h.jsx)("span",{children:"Character: "}),(0,h.jsx)("b",{children:r})]})]})};x.dedaultProps={photo:""};var j=x,g=t(866),b="Cast_Actors__Oc0PN",w=function(){var e=(0,i.useState)([]),n=(0,c.Z)(e,2),t=n[0],s=n[1],o=(0,i.useState)(!1),p=(0,c.Z)(o,2),v=p[0],d=p[1],f=(0,u.bS)();(0,i.useEffect)((function(){m()}),[]);var m=function(){var e=(0,r.Z)(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.params.movieId,d(!0),e.prev=2,e.next=5,l.zv(n);case 5:t=e.sent,r=t.cast,s(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Smth wrong with fetch cast on movie page",e.t0);case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:b,children:[v&&(0,h.jsx)(g.Z,{}),t&&(0,h.jsx)("ul",{children:t.map((function(e){var n=e.id,t=e.profile_path,r=e.name,c=e.character;return(0,h.jsx)("li",{className:"",children:(0,h.jsx)(j,{photo:t,name:r,character:c})},n)}))})]})},N=function(e){var n=e.author,t=e.content;return(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:n}),(0,h.jsx)("p",{children:t})]})},_=function(){var e=(0,i.useState)([]),n=(0,c.Z)(e,2),t=n[0],s=n[1],o=(0,i.useState)(!1),p=(0,c.Z)(o,2),v=p[0],d=p[1],f=(0,u.bS)();console.log(f),(0,i.useEffect)((function(){m()}),[]);var m=function(){var e=(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.params.movieId,d(!0),e.prev=2,e.next=5,l.tx(n);case 5:t=e.sent,s(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Smth wrong with fetch reviews on movie page",e.t0);case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{children:[v&&(0,h.jsx)(g.Z,{}),t&&t.length>0?(0,h.jsx)("ul",{className:"",children:t.map((function(e){var n=e.id,t=e.author,r=e.content;return(0,h.jsx)("li",{className:"",children:(0,h.jsx)(N,{author:t,content:r})},n)}))}):(0,h.jsx)("p",{children:"We don't have any reviews for this movie"})]})},k={home:"/",movies:"/movies",movieDetails:"/movies/:movieId",cast:"/cast",reviews:"/reviews"},y=function(){var e=(0,i.useState)(null),n=(0,c.Z)(e,2),t=n[0],s=n[1],v=(0,i.useState)(!1),d=(0,c.Z)(v,2),m=d[0],x=d[1],j=(0,i.useState)(null),b=(0,c.Z)(j,2),N=(b[0],b[1]),y=(0,u.s0)(),S=(0,u.TH)(),O=(0,u.bS)();console.log(O),(0,i.useEffect)((function(){Z()}),[]);var Z=function(){var e=(0,r.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.params.movieId,x(!0),e.prev=2,e.next=5,l.TP(n);case 5:t=e.sent,s(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Smth wrong with fetch movie on movie page",e.t0),N({error:e.t0});case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("hr",{}),(0,h.jsx)(p,{onBack:function(){var e;y.push((null===S||void 0===S||null===(e=S.state)||void 0===e?void 0:e.from)||"/")}}),t&&(0,h.jsx)(f,{movie:t}),(0,h.jsx)("hr",{}),(0,h.jsxs)("section",{className:"",children:[(0,h.jsx)("p",{className:"information",children:"Additional information"}),(0,h.jsxs)("ul",{children:[(0,h.jsxs)("li",{children:[" ",(0,h.jsx)(o.OL,{className:"link",activeClassName:"activeLink",to:{pathname:"".concat(O.url).concat(k.cast)},children:"Cast"})]}),(0,h.jsx)("li",{children:(0,h.jsx)(o.OL,{className:"link",activeClassName:"activeLink",to:{pathname:"".concat(O.url).concat(k.reviews)},children:"Reviews"})})]})]}),(0,h.jsxs)(u.Z5,{children:[(0,h.jsx)(u.AW,{exact:!0,path:"".concat(O.path).concat(k.cast),children:(0,h.jsx)(w,{})}),(0,h.jsx)(u.AW,{exact:!0,path:"".concat(O.path).concat(k.reviews),children:(0,h.jsx)(_,{})})]}),m&&(0,h.jsx)(g.Z,{})]})}},888:function(e,n,t){"use strict";var r=t(47);function c(){}function s(){}s.resetWarningCache=c,e.exports=function(){function e(e,n,t,c,s,a){if(a!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:c};return t.PropTypes=t,t}},7:function(e,n,t){e.exports=t(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=768.90c9b69a.chunk.js.map